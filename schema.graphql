type Account @entity {
  id: Bytes!
  address: Bytes!
  transfersIn: [Transfer!]! @derivedFrom(field: "to")
  transfersOut: [Transfer!]! @derivedFrom(field: "from")
  cysFLRBalance: BigInt!
  cyWETHBalance: BigInt!
  totalCyBalance: BigInt! # Sum of both token balances
  eligibleShare: BigDecimal! # Percentage of total eligible supply (if positive balance)
  receiptTransfersIn: [ReceiptTransfer!]! @derivedFrom(field: "to")
  receiptTransfersOut: [ReceiptTransfer!]! @derivedFrom(field: "from")
}

type Transfer @entity(immutable: true) {
  id: Bytes!
  tokenAddress: Bytes!
  from: Account!
  fromIsApprovedSource: Boolean!
  to: Account!
  value: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type EligibleTotals @entity {
  id: String!
  totalEligibleCysFLR: BigInt!
  totalEligibleCyWETH: BigInt!
  totalEligibleSum: BigInt!
}

type ReceiptTransfer @entity(immutable: true) {
  id: Bytes!
  receiptAddress: Bytes!
  from: Account!
  to: Account!
  value: BigInt!
  tokenId: BigInt!
  operator: Account!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Account @entity {
  id: Bytes!
  address: Bytes!
  transfersIn: [Transfer!]! @derivedFrom(field: "to")
  transfersOut: [Transfer!]! @derivedFrom(field: "from")
  cysFLRBalance: BigInt!
  cyWETHBalance: BigInt!
  cyFXRPBalance: BigInt!
  cyWBTCBalance: BigInt!
  cycbBTCBalance: BigInt!
  cyLINKBalance: BigInt!
  cyDOTBalance: BigInt!
  cyUNIBalance: BigInt!
  cyPEPEBalance: BigInt!
  cyENABalance: BigInt!
  cyARBBalance: BigInt!
  totalCyBalance: BigInt! # Sum of all token balances
  eligibleShare: BigDecimal! # Percentage of total eligible supply (if positive balance)
  cysFLRReceiptBalance: [CysFlrReceiptOwnerBalance!]! @derivedFrom(field: "owner")
  cyWETHReceiptBalance: [CyWethReceiptOwnerBalance!]! @derivedFrom(field: "owner")
  cyFXRPReceiptBalance: [CyFxrpReceiptOwnerBalance!]! @derivedFrom(field: "owner")
  cyWBTCReceiptBalance: [CyWbtcReceiptOwnerBalance!]! @derivedFrom(field: "owner")
  cycbBTCReceiptBalance: [CycbBTCReceiptOwnerBalance!]! @derivedFrom(field: "owner")
  cyLINKReceiptBalance: [CyLinkReceiptOwnerBalance!]! @derivedFrom(field: "owner")
  cyDOTReceiptBalance: [CyDotReceiptOwnerBalance!]! @derivedFrom(field: "owner")
  cyUNIReceiptBalance: [CyUniReceiptOwnerBalance!]! @derivedFrom(field: "owner")
  cyPEPEReceiptBalance: [CyPepeReceiptOwnerBalance!]! @derivedFrom(field: "owner")
  cyENAReceiptBalance: [CyEnaReceiptOwnerBalance!]! @derivedFrom(field: "owner")
  cyARBReceiptBalance: [CyArbReceiptOwnerBalance!]! @derivedFrom(field: "owner")
}

type Transfer @entity(immutable: true) {
  id: Bytes!
  tokenAddress: Bytes!
  from: Account!
  fromIsApprovedSource: Boolean!
  to: Account!
  value: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type EligibleTotals @entity {
  id: String!
  totalEligibleCysFLR: BigInt!
  totalEligibleCyWETH: BigInt!
  totalEligibleCyFXRP: BigInt!
  totalEligibleCyWBTC: BigInt!
  totalEligibleCycbBTC: BigInt!
  totalEligibleCyLINK: BigInt!
  totalEligibleCyDOT: BigInt!
  totalEligibleCyUNI: BigInt!
  totalEligibleCyPEPE: BigInt!
  totalEligibleCyENA: BigInt!
  totalEligibleCyARB: BigInt!
  totalEligibleSum: BigInt!
}

# interface for receipt owner balance entities that each cy receipts will implement
# this allows us to do `derivedFrom` on the Account entity for all receipt types
interface ReceiptOwnerBalance {
  id: Bytes! # composite of receiptAddress + tokenId + owner
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CysFlrReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CyWethReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CyFxrpReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CyWbtcReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CycbBTCReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CyLinkReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CyDotReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CyUniReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CyPepeReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CyEnaReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

type CyArbReceiptOwnerBalance implements ReceiptOwnerBalance @entity {
  id: Bytes!
  receiptAddress: Bytes!
  tokenId: BigInt!
  owner: Account!
  balance: BigInt!
}

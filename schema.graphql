enum Period {
  ALL_TIME
}

type TrackingPeriod @entity {
  id: Bytes!
  period: Period!
  totalApprovedTransfersIn: BigInt!
}

type Account @entity {
  id: Bytes!
  address: Bytes!
  transfersIn: [Transfer!]! @derivedFrom(field: "to")
  transfersOut: [Transfer!]! @derivedFrom(field: "from")
  trackingPeriods: [TrackingPeriodForAccount!]! @derivedFrom(field: "account")
}

type TrackingPeriodForAccount @entity {
  id: Bytes!
  account: Account!
  period: Period!
  culmulativeTransfersInFromApprovedSources: BigInt!
  culmulativeTransfersOut: BigInt!
  netApprovedTransfersIn: BigInt!
}

type Transfer @entity(immutable: true) {
  id: Bytes!
  from: Account!
  fromIsApprovedSource: Boolean!
  to: Account!
  value: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
  period: Period!
}